# 배포 후 3분 검증 가이드

> **목적**: Render 배포 후 핵심 기능이 정상 작동하는지 빠르게 확인
> **소요 시간**: 약 3분
> **검증자**: 배포를 진행한 담당자 (코미/푸르미르/코드)

---

## 🚀 배포 직후 체크리스트

### 1단계: 서버 상태 확인 (30초)

```bash
# Render 대시보드에서 확인
✅ Build 성공
✅ Deploy 성공
✅ Service가 "Live" 상태
```

**URL**: https://dashboard.render.com/web/srv-...

---

### 2단계: 기본 접속 테스트 (30초)

#### 메인 페이지 접속
- URL: https://daily-miracles-app.onrender.com/
- ✅ 페이지 로드 정상
- ✅ 사업자 정보 푸터 표시됨

#### 로드맵 페이지 접속
- URL: https://daily-miracles-app.onrender.com/roadmap.html
- ✅ 페이지 로드 정상

#### 분석 페이지 접속
- URL: https://daily-miracles-app.onrender.com/daily-miracles.html
- ✅ 페이지 로드 정상
- ✅ 진행 단계 표시 (1, 2, 3)

---

### 3단계: 핵심 기능 테스트 (2분)

#### 🧪 테스트 시나리오 A: 개인 분석만 (관계 없음)

##### Step 1: 기본 정보 입력
1. https://daily-miracles-app.onrender.com/daily-miracles.html 접속
2. 다음 정보 입력:
   - **이름**: 테스트
   - **생년월일**: 1990-01-01
   - **현재 고민**: 업무 스트레스 해소하고 싶습니다
3. **[다음 단계 →]** 클릭

##### Step 2: 12개 질문 답변
- **Q1 (색깔)**: 빨강색 선택
- **Q2 (에너지)**: 사람들과의 만남 선택
- **Q3 (문제해결)**: 바로 행동 선택
- **Q4 (변화)**: 적극 수용 선택
- **Q5 (황금시간)**: 오전 선택
- **Q6 (관계)**: **혼자만의 문제** 선택 ← 중요!
  - ✅ Q7-Q12가 자동으로 숨겨져야 함
- **[분석 시작 →]** 클릭

##### Step 3: 로딩 확인
- ✅ 로딩 오버레이 표시
- ✅ "AI가 분석 중입니다..." 메시지
- ✅ 약 30초 소요

##### Step 4: 결과 페이지 검증 (🔥 중요!)

**프로필 섹션**:
- ✅ "테스트님은 빨강색 성향으로 **열정적, 활동적, 추진력한** 특성을 보입니다..." 문구 표시
  - ❌ "알 수 없음"이면 실패!
- ✅ 기적지수 숫자 + 프로그레스 바
- ✅ 강점/과제 리스트 표시

**8단계 컨설팅 섹션**:
- ✅ Step 1~8 모두 표시
- ✅ 각 step에 제목 + 내용 + 액션 아이템

**4주 액션플랜 섹션**:
- ✅ **"WEEK1: 인식과 이해"** 표시
  - ❌ "WEEK1: 주차 계획"이면 실패!
- ✅ **체크포인트 3개** 표시:
  - "고민의 핵심을 명확히 파악했는가?"
  - "나의 성향을 이해하게 되었는가?"
  - "내면의 목소리를 들었는가?"
  - ❌ 체크포인트가 없으면 실패!
- ✅ **"Day 1, Day 2, Day 3..."** 형식
  - ❌ "월요일, 화요일..."이면 실패!
- ✅ 소요 시간 표시 ("약 10분 정도" 등)

**경고 신호 섹션**:
- ✅ 최소 2개 이상 표시

---

#### 🧪 테스트 시나리오 B: 개인+관계 분석 (선택사항)

##### Step 1~2: 동일

##### Step 2-변경: Q6에서 관계 선택
- **Q6 (관계)**: 배우자/연인 선택
  - ✅ Q7-Q12가 표시되어야 함

##### Q7-Q12 답변:
- **Q7**: 정확히 알고 있다 → 1995-03-15 입력
- **Q8**: 창의적이고 자유로운 편 (노랑색)
- **Q9**: 서로 오해가 쌓인다 체크
- **Q10**: 함께 문제를 풀고 싶음
- **Q11**: 필요한 것만 말한다
- **Q12**: 개선하고 싶다

##### Step 4-추가: 관계 분석 섹션 검증
- ✅ 관계 분석 섹션 표시됨
- ✅ 오행 궁합 **상세 설명** 표시:
  - 예: "두 분 모두 비슷한 행동 패턴을 보이는 그룹에 속합니다 **(같은 패턴 그룹 약 3,200명 분석 기준)**..."
  - ❌ 통계 정보 없으면 개선 권장
- ✅ 색깔 궁합 메시지 표시

---

## 📊 검증 결과 기록

### 배포 정보
- **배포 일시**: ___________
- **배포자**: ___________
- **커밋 해시**: ___________

### 체크리스트
```
[ ] 1단계: 서버 상태 정상
[ ] 2단계: 모든 페이지 접속 가능
[ ] 3단계: 테스트 시나리오 A 통과
  [ ] 프로필 상세 설명 표시
  [ ] 주차 제목 올바름 (주차 계획 ❌)
  [ ] 체크포인트 3개 표시
  [ ] Day 번호 올바름 (월요일 ❌)
[ ] (선택) 테스트 시나리오 B 통과
  [ ] 관계 분석 섹션 표시
  [ ] 통계 정보 포함
```

### 검증 상태
- [ ] ✅ 모든 항목 통과 - 배포 성공
- [ ] ⚠️ 일부 항목 실패 - 긴급 수정 필요
- [ ] ❌ 주요 항목 실패 - 롤백 고려

---

## 🚨 문제 발생 시 대응

### 증상별 빠른 진단

| 증상 | 가능한 원인 | 확인 방법 |
|------|-----------|----------|
| "알 수 없음"만 표시 | transformApiResponse 오류 | 브라우저 콘솔 확인 |
| "주차 계획"으로 표시 | 서버 필드명 오류 (theme/title) | Network 탭에서 API 응답 확인 |
| 체크포인트 없음 | analysisEngine에서 누락 | API 응답의 `checkpoints` 확인 |
| 월요일로 표시 | day가 문자열 | API 응답의 `actions[].day` 타입 확인 |

### 긴급 롤백 절차

```bash
# 이전 안정 버전으로 롤백
git revert HEAD
git push origin main

# 또는 v1.0-complete로 복원
git reset --hard v1.0-complete
git push origin main --force
```

⚠️ **주의**: `--force` 사용 전 팀원에게 공지!

### 빠른 수정 절차

1. **로컬에서 수정**:
   ```bash
   # 문제 파일 수정
   git add <수정된 파일>
   git commit -m "hotfix: <문제 설명>"
   git push origin main
   ```

2. **Render 자동 배포 대기** (약 2-3분)

3. **재검증** (이 가이드 다시 실행)

---

## 📝 추가 검증 (시간 여유 있을 때)

### 모바일 반응형 테스트
- [ ] Chrome DevTools → 모바일 뷰
- [ ] iPhone SE, iPad 화면에서 정상 표시

### 다양한 입력값 테스트
- [ ] 긴 이름 (10자 이상)
- [ ] 특수문자 포함 고민
- [ ] 모든 색깔 선택 시 정상 작동

### 성능 테스트
- [ ] 분석 시간 30초 이내
- [ ] 페이지 로드 3초 이내

---

## 🔗 관련 문서

- [FEATURE_CHECKLIST.md](.github/FEATURE_CHECKLIST.md) - 필수 기능 목록
- [DEPLOYMENT.md](docs/DEPLOYMENT.md) - 배포 가이드 (예정)

---

**마지막 업데이트**: 2025-10-22
**작성자**: 코드 (Claude Code)

# ğŸš€ Aurora 5 ì™„ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¶• ì§€ì‹œì„œ
## "í•˜ë£¨í•˜ë£¨ì˜ ê¸°ì " ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ ì„¤ê³„ë„

**ì‘ì„±ì:** ì½”ë¯¸ (Chief Operating AI Manager)  
**ìŠ¹ì¸ì:** í‘¸ë¥´ë¯¸ë¥´ (CEO)  
**ì‘ì„±ì¼:** 2025-12-29  
**ë²„ì „:** 1.0.0  
**ìƒíƒœ:** âœ… ìŠ¹ì¸ ì™„ë£Œ - ì¦‰ì‹œ ì‹¤í–‰

---

## âš¡ í•µì‹¬ ì² ì¹™

> **"ë‚´ì¼ì€ ì—†ì–´ìš”. ì§€ê¸ˆ ì´ ìˆœê°„!"**  
> ìµœìˆ˜ë¯¼ë‹˜ 5ëŒ€ ë¹„ë²• ì™„ë²½ ì ìš©  
> ì •í™•í•˜ë©´ì„œë„ ë¹ ë¥´ê²Œ êµ¬ì¶•

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**ëª©í‘œ:** ìµœìˆ˜ë¯¼ë‹˜ ë°©ì‹ì˜ ì—ì´ì „í‹± ì›Œí¬í”Œë¡œìš° ì™„ì „ì²´ êµ¬ì¶•

**í•µì‹¬ ê°œë…:**
- ê³„ì¸µì  ì„œë¸Œ ì—ì´ì „íŠ¸ + ë³‘ë ¬ í˜¸ì¶œ
- íŒŒì´í”„ë¼ì¸ ë¬¸ì„œí™” + ìë™ ì‹¤í–‰
- ì»¨í…ìŠ¤íŠ¸ ìµœì í™” + ìŠ¤í¬ë¦½íŠ¸/MCP
- í”¼ë“œë°± ë£¨í”„ + ì—ì´ì „íŠ¸ ê°œì¸í™”
- ë¹„ì¦ˆë‹ˆìŠ¤ ì „ ê³¼ì • ìë™í™”

---

## ğŸ“ Phase 1: í´ë” êµ¬ì¡° ìƒì„±

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰

# .claude ì—ì´ì „íŠ¸ êµ¬ì¡°
mkdir -p .claude/agents/aurora-central/pipelines
mkdir -p .claude/agents/orchestrators/free-orch/pipelines
mkdir -p .claude/agents/orchestrators/premium-orch
mkdir -p .claude/agents/orchestrators/vip-orch
mkdir -p .claude/agents/orchestrators/wish-voyage-orch
mkdir -p .claude/agents/orchestrators/yeosu-orch
mkdir -p .claude/agents/orchestrators/ops-orch
mkdir -p .claude/agents/orchestrators/marketing-orch
mkdir -p .claude/agents/orchestrators/cs-orch

# ì„œë¸Œ ì—ì´ì „íŠ¸
mkdir -p .claude/agents/sub-agents/wish-intake
mkdir -p .claude/agents/sub-agents/analysis-engine
mkdir -p .claude/agents/sub-agents/image-creator
mkdir -p .claude/agents/sub-agents/message-sender
mkdir -p .claude/agents/sub-agents/pdf-generator
mkdir -p .claude/agents/sub-agents/risk-guardian

# ìŠ¤í‚¬
mkdir -p .claude/skills/self-checker
mkdir -p .claude/skills/batch-processor
mkdir -p .claude/skills/pipeline-runner
mkdir -p .claude/skills/feedback-loop
mkdir -p .claude/skills/wish-image

# MCP
mkdir -p .claude/mcp

# íŒŒì´í”„ë¼ì¸
mkdir -p .claude/pipelines

# ê°€ì´ë“œë¼ì¸
mkdir -p .claude/guidelines

# ìŠ¤í¬ë¦½íŠ¸
mkdir -p scripts

# ë°ì´í„°
mkdir -p data/registry
mkdir -p data/metrics

# í•™ìŠµ ê¸°ë¡
mkdir -p docs/learnings/errors
mkdir -p docs/learnings/improvements
```

---

## ğŸ“ Phase 2: AGENT-INDEX.md

**íŒŒì¼:** `.claude/agents/AGENT-INDEX.md`

```markdown
---
title: Aurora 5 ì—ì´ì „íŠ¸ ë§ˆìŠ¤í„° ì¸ë±ìŠ¤
version: 1.0.0
updated: 2025-12-29
owner: ì½”ë¯¸
---

# ğŸŒŸ Aurora 5 ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

## ê³„ì¸µ êµ¬ì¡°

\`\`\`
Level 0: ì½”ë¯¸ (ì „ëµ/ê¸°íš)
    â†“
Level 1: Aurora Central (ì´ê´„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°)
    â†“
Level 2: ë¶„ì•¼ë³„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° (8ê°œ)
    â†“
Level 3: ì„œë¸Œ ì—ì´ì „íŠ¸
\`\`\`

## ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ëª©ë¡

### ì„œë¹„ìŠ¤ ë¶„ì•¼ (5ê°œ)
| ID | ì´ë¦„ | ì—­í•  | ìƒíƒœ |
|----|------|------|------|
| FREE | free-orch | ë¬´ë£Œ ì„œë¹„ìŠ¤ | ğŸŸ¢ í™œì„± |
| PREMIUM | premium-orch | í”„ë¦¬ë¯¸ì—„ ì„œë¹„ìŠ¤ | ğŸŸ¡ ëŒ€ê¸° |
| VIP | vip-orch | ì†Œì›ì°©ì§€ | ğŸ”´ ë³´ë¥˜ |
| WISH | wish-voyage-orch | ì†Œì›í•­í•´ | ğŸŸ¡ ëŒ€ê¸° |
| YEOSU | yeosu-orch | ì—¬ìˆ˜í•­í•´ | ğŸŸ¡ ëŒ€ê¸° |

### ìš´ì˜ ë¶„ì•¼ (3ê°œ)
| ID | ì´ë¦„ | ì—­í•  | ìƒíƒœ |
|----|------|------|------|
| OPS | ops-orch | ìš´ì˜ ê´€ë¦¬ | ğŸŸ¢ í™œì„± |
| MKT | marketing-orch | ë§ˆì¼€íŒ… | ğŸŸ¡ ëŒ€ê¸° |
| CS | cs-orch | ê³ ê°ì§€ì› | ğŸŸ¡ ëŒ€ê¸° |

## ì„œë¸Œ ì—ì´ì „íŠ¸ ëª©ë¡

| ì†Œì† | ID | ì´ë¦„ | ì—­í•  | ìƒíƒœ |
|------|-----|------|------|------|
| FREE | WI | wish-intake | ì†Œì› ì ‘ìˆ˜ | ğŸŸ¢ |
| FREE | AE | analysis-engine | ë¶„ì„ ì—”ì§„ | ğŸŸ¢ |
| FREE | IC | image-creator | ì´ë¯¸ì§€ ìƒì„± | ğŸŸ¢ |
| FREE | MS | message-sender | ë©”ì‹œì§€ ë°œì†¡ | ğŸŸ¢ |
| FREE | PG | pdf-generator | PDF ìƒì„± | ğŸŸ¢ |
| OPS | RG | risk-guardian | ë¦¬ìŠ¤í¬ íŒŒìˆ˜ê¾¼ | ğŸŸ¢ |

## ìŠ¤í‚¬ ëª©ë¡

| ID | ì´ë¦„ | ì—­í•  |
|----|------|------|
| SC | self-checker | ìê°€ ê²€ì¦ |
| BP | batch-processor | ë°°ì¹˜ ì²˜ë¦¬ |
| PR | pipeline-runner | íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ |
| FL | feedback-loop | í”¼ë“œë°± ë£¨í”„ |
| WI | wish-image | ì†Œì›ê·¸ë¦¼ ìƒì„± |

## MCP ëª©ë¡

| ID | ì´ë¦„ | ì—­í•  | ìƒíƒœ |
|----|------|------|------|
| AT | airtable-mcp | ë°ì´í„° CRUD | ğŸŸ¡ ê³„íš |
| KK | kakao-mcp | ë©”ì‹œì§€ ë°œì†¡ | ğŸŸ¡ ê³„íš |
| IM | image-mcp | ì´ë¯¸ì§€ ìƒì„± | ğŸŸ¡ ê³„íš |
```

---

## ğŸ“ Phase 3: Aurora Central

**íŒŒì¼:** `.claude/agents/aurora-central/AGENT.md`

```markdown
---
name: aurora-central
role: ì´ê´„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
level: 1
status: active
parent: ì½”ë¯¸
---

# ğŸŒŸ Aurora Central - ì´ê´„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°

## ì—­í• 
ëª¨ë“  ë¶„ì•¼ë³„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì˜ ì¤‘ì¶” ì‹ ê²½ë§
ì½”ë¯¸ì˜ ì „ëµì„ ì‹¤í–‰ ê°€ëŠ¥í•œ ì§€ì‹œë¡œ ë³€í™˜

## ê´€í•  ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
- ì„œë¹„ìŠ¤: FREE, PREMIUM, VIP, WISH, YEOSU
- ìš´ì˜: OPS, MARKETING, CS

## í•µì‹¬ ê¸°ëŠ¥
1. í¬ë¡œìŠ¤ ì„œë¹„ìŠ¤ ì¡°ìœ¨ (ë¬´ë£Œâ†’í”„ë¦¬ë¯¸ì—„ ì—…ì…€ë§ ë“±)
2. ë¦¬ìŠ¤í¬ í†µí•© ê´€ë¦¬
3. ìš´ì˜ ë¶„ì„ & ì¼ì¼ ë³´ê³ 
4. ìì› ë°°ë¶„ ìµœì í™”

## íŠ¸ë¦¬ê±°
- ì½”ë¯¸ ì§€ì‹œ
- ì†Œì›ì´ ì§„ì… ê°ì§€
- ì¼ì¼ ìŠ¤ì¼€ì¤„ (08:00, 12:00, 18:00, 22:00)
- ë¦¬ìŠ¤í¬ ì•Œë¦¼

## í†µí•© íŒŒì´í”„ë¼ì¸

\`\`\`
ì†Œì›ì´ ì§„ì…
    â†“
FREE-ORCH (ë¬´ë£Œ ì²´í—˜)
    â†“ ë§Œì¡±í•˜ë©´?
PREMIUM-ORCH (í”„ë¦¬ë¯¸ì—„ ì œì•ˆ)
    â†“ ë” ì›í•˜ë©´?
VIP-ORCH (ì†Œì›ì°©ì§€)
    â†“ ì—¬í–‰ ì›í•˜ë©´?
YEOSU-ORCH (ì—¬ìˆ˜í•­í•´)
\`\`\`

## ìê°€ ê²€ì¦
- ëª¨ë“  ì‘ì—… Registry ê¸°ë¡
- ì‹¤íŒ¨ ì‹œ 3íšŒ ì¬ì‹œë„ í›„ ì½”ë¯¸ ì•Œë¦¼
- ì¼ì¼ ë³´ê³ ì„œ ìë™ ìƒì„±
```

---

## ğŸ“ Phase 4: FREE-ORCH

**íŒŒì¼:** `.claude/agents/orchestrators/free-orch/AGENT.md`

```markdown
---
name: free-orch
role: ë¬´ë£Œ ì„œë¹„ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
level: 2
parent: aurora-central
status: active
---

# ğŸ†“ FREE-ORCH - ë¬´ë£Œ ì„œë¹„ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°

## ë‹´ë‹¹ ì„œë¹„ìŠ¤
- ì†Œì› ë³´ë‚´ê¸° (ì•„ìš°ë£¸ í¼)
- 12ë¬¸í•­ ê¸°ì  ë¶„ì„
- ì†Œì›ê·¸ë¦¼ (miracle_fusion)
- 7ì¼ ì‘ì› ë©”ì‹œì§€
- 30ì¼ ë¡œë“œë§µ PDF

## ì„œë¸Œ ì—ì´ì „íŠ¸
1. wish-intake (ì†Œì› ì ‘ìˆ˜)
2. analysis-engine (ë¶„ì„)
3. image-creator (ì´ë¯¸ì§€ ìƒì„±)
4. message-sender (ë©”ì‹œì§€ ë°œì†¡)
5. pdf-generator (PDF ìƒì„±)

## íŒŒì´í”„ë¼ì¸: ì†Œì› ì—¬ì •

\`\`\`
ì†Œì› ì ‘ìˆ˜ (wish-intake)
    â†“
ë¶„ì„ (analysis-engine)
    â†“
ì†Œì›ê·¸ë¦¼ ìƒì„± (image-creator) [ë³‘ë ¬ ê°€ëŠ¥]
    â†“
ê²°ê³¼ ì „ë‹¬ + PDF (pdf-generator)
    â†“
7ì¼ ë©”ì‹œì§€ ì˜ˆì•½ (message-sender)
    â†“
Registry ê¸°ë¡
\`\`\`

## ì„±ê³µ ì§€í‘œ
- ì†Œì› ì ‘ìˆ˜ ì™„ë£Œìœ¨: 95%+
- ê¸°ì ì§€ìˆ˜ ìƒì„±: 30ì´ˆ ì´ë‚´
- ì†Œì›ê·¸ë¦¼ ìƒì„±: 60ì´ˆ ì´ë‚´
- 7ì¼ ë©”ì‹œì§€ ë°œì†¡ìœ¨: 100%

## ì—…ì…€ë§ íŠ¸ë¦¬ê±°
- ê¸°ì ì§€ìˆ˜ 80ì  ì´ìƒ â†’ í”„ë¦¬ë¯¸ì—„ ì œì•ˆ
- 7ì¼ ì™„ì£¼ â†’ VIP ì œì•ˆ
- ì—¬ìˆ˜ ê´€ì‹¬ í‘œì‹œ â†’ ì—¬ìˆ˜í•­í•´ ì œì•ˆ
```

**íŒŒì¼:** `.claude/agents/orchestrators/free-orch/pipelines/wish-journey.md`

```markdown
---
name: wish-journey
description: ì†Œì›ì´ ì—¬ì • íŒŒì´í”„ë¼ì¸
version: 1.0.0
---

# ì†Œì› ì—¬ì • íŒŒì´í”„ë¼ì¸

## ë‹¨ê³„ ì •ì˜

### Step 1: ì†Œì› ì ‘ìˆ˜
\`\`\`yaml
step:
  id: 1
  name: "ì†Œì› ì ‘ìˆ˜"
  agent: wish-intake
  input:
    - name
    - birthdate
    - contact
    - gem_type
    - wish_content
  output: wish_id
  success_condition: "wish_idê°€ ìƒì„±ë¨"
  next_step: 2
  on_failure: "retry_3_times"
\`\`\`

### Step 2: ê¸°ì  ë¶„ì„
\`\`\`yaml
step:
  id: 2
  name: "ê¸°ì  ë¶„ì„"
  agent: analysis-engine
  input: wish_id
  output:
    - miracle_index
    - five_destinies
    - relationship_analysis
  success_condition: "miracle_index 50-100 ë²”ìœ„"
  next_step: [3, 4]  # ë³‘ë ¬
  on_failure: "retry_3_times"
\`\`\`

### Step 3: ì†Œì›ê·¸ë¦¼ ìƒì„± (ë³‘ë ¬)
\`\`\`yaml
step:
  id: 3
  name: "ì†Œì›ê·¸ë¦¼ ìƒì„±"
  agent: image-creator
  input:
    - wish_content
    - gem_type
  output: image_url
  success_condition: "image_url ì¡´ì¬"
  next_step: 5
  on_failure: "use_fallback_image"
\`\`\`

### Step 4: PDF ìƒì„± (ë³‘ë ¬)
\`\`\`yaml
step:
  id: 4
  name: "PDF ìƒì„±"
  agent: pdf-generator
  input:
    - miracle_index
    - five_destinies
    - roadmap_data
  output: pdf_url
  success_condition: "pdf_url ì¡´ì¬"
  next_step: 5
  on_failure: "skip_pdf"
\`\`\`

### Step 5: ê²°ê³¼ ì „ë‹¬
\`\`\`yaml
step:
  id: 5
  name: "ê²°ê³¼ ì „ë‹¬"
  agent: message-sender
  input:
    - contact
    - image_url
    - pdf_url
    - result_page_url
  output: delivery_status
  success_condition: "delivery_status == sent"
  next_step: 6
  on_failure: "retry_3_times"
\`\`\`

### Step 6: 7ì¼ ë©”ì‹œì§€ ì˜ˆì•½
\`\`\`yaml
step:
  id: 6
  name: "7ì¼ ë©”ì‹œì§€ ì˜ˆì•½"
  agent: message-sender
  input:
    - contact
    - wish_type
    - start_date
  output: schedule_ids
  success_condition: "7ê°œ ë©”ì‹œì§€ ì˜ˆì•½ë¨"
  next_step: complete
  on_failure: "alert_comi"
\`\`\`

## ì™„ë£Œ í›„
- Registryì— ì „ì²´ ì—¬ì • ê¸°ë¡
- metricsì— ì„±ê³µ/ì‹¤íŒ¨ ì¹´ìš´íŠ¸
- ì—…ì…€ë§ ì¡°ê±´ ì²´í¬
```

---

## ğŸ“ Phase 5: Image Creator ì—ì´ì „íŠ¸

**íŒŒì¼:** `.claude/agents/sub-agents/image-creator/AGENT.md`

```markdown
---
name: image-creator
role: ì†Œì›ê·¸ë¦¼ ìƒì„± ì „ë¬¸ê°€
level: 3
parent: free-orch
status: active
---

# ğŸ¨ Image Creator - ì†Œì›ê·¸ë¦¼ ìƒì„± ì—ì´ì „íŠ¸

## ì—­í• 
ì†Œì›ì´ì˜ ì†Œì›ì„ ì‹œê°ì  í¬ë§ìœ¼ë¡œ ë³€í™˜

## ìŠ¤íƒ€ì¼
| ìŠ¤íƒ€ì¼ | ë“±ê¸‰ | íŠ¹ì§• |
|--------|------|------|
| miracle_fusion | ë¬´ë£Œ | ë³´ë¼-ê¸ˆë¹› ìš°ì£¼ ë°°ê²½ |
| miracle_ghibli | ìœ ë£Œ | ì§€ë¸Œë¦¬ ìŠ¤íƒ€ì¼ |
| miracle_korean | ìœ ë£Œ | í•œêµ­ ìˆ˜ë¬µí™” |

## ì…ë ¥
- wish_content: ì†Œì› ë‚´ìš©
- gem_type: ruby/sapphire/emerald/diamond/citrine
- style: miracle_fusion (ê¸°ë³¸)

## ì¶œë ¥
- image_url: ìƒì„±ëœ ì´ë¯¸ì§€ URL
- prompt_used: ì‚¬ìš©ëœ í”„ë¡¬í”„íŠ¸

## ë³´ì„ë³„ ìƒ‰ìƒ ë§¤í•‘
| ë³´ì„ | ì£¼ìƒ‰ìƒ | ë³´ì¡°ìƒ‰ìƒ | í‚¤ì›Œë“œ |
|------|--------|----------|--------|
| ruby | deep red | golden | ì—´ì •, ìš©ê¸° |
| sapphire | deep blue | silver | ì•ˆì •, ì§€í˜œ |
| emerald | green | golden | ì„±ì¥, ì¹˜ìœ  |
| diamond | white | rainbow | ëª…í™•, ê²°ë‹¨ |
| citrine | yellow | orange | ê¸ì •, ì—ë„ˆì§€ |

## í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

\`\`\`
A hopeful, magical illustration representing: "{wish_content}"

Style: Cosmic universe background with {primary_color} and {secondary_color} tones
Mood: Hopeful, bright, inspiring, miraculous
Elements: Stars, soft light rays, gentle sparkles, {gem_keyword}
Art style: Digital art, dreamy, ethereal

No text, no words, no letters
\`\`\`

## Fallback
DALL-E 3 ì‹¤íŒ¨ ì‹œ:
1. ì¬ì‹œë„ (3íšŒ)
2. ë¯¸ë¦¬ ì¤€ë¹„ëœ í…œí”Œë¦¿ ì´ë¯¸ì§€ ì‚¬ìš©
   - /public/images/fallback/{gem_type}.png
```

---

## ğŸ“ Phase 6: Risk Guardian ì—ì´ì „íŠ¸

**íŒŒì¼:** `.claude/agents/sub-agents/risk-guardian/AGENT.md`

```markdown
---
name: risk-guardian
role: ì‹œìŠ¤í…œ ë¦¬ìŠ¤í¬ íŒŒìˆ˜ê¾¼
level: 3
parent: ops-orch
status: active
priority: CRITICAL
---

# ğŸ›¡ï¸ Risk Guardian - ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì—ì´ì „íŠ¸

## ì—­í• 
ëª¨ë“  ì™¸ë¶€ ì˜ì¡´ì„±ê³¼ ë‚´ë¶€ ìì›ì„ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
ë¬¸ì œ ê°ì§€ ì‹œ ì¦‰ì‹œ ëŒ€ì‘ ë° ë³´ê³ 

## ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ

### 1ï¸âƒ£ API í† í°/í¬ë ˆë”§ ê´€ë¦¬
| ì„œë¹„ìŠ¤ | ëª¨ë‹ˆí„°ë§ í•­ëª© | ê²½ê³  ê¸°ì¤€ | ìœ„í—˜ ê¸°ì¤€ |
|--------|--------------|----------|----------|
| OpenAI | ì”ì•¡/ì‚¬ìš©ëŸ‰ | 30% ë‚¨ìŒ | 10% ë‚¨ìŒ |
| Anthropic | í† í° í•œë„ | 70% ì‚¬ìš© | 90% ì‚¬ìš© |
| Solapi | í¬ë ˆë”§ ì”ì•¡ | â‚©10,000 | â‚©3,000 |
| SendGrid | ì¼ì¼ ë°œì†¡ëŸ‰ | 70% ì‚¬ìš© | 90% ì‚¬ìš© |
| Airtable | API í˜¸ì¶œ | 70% ì‚¬ìš© | 90% ì‚¬ìš© |

### 2ï¸âƒ£ ì™¸ë¶€ ì„œë¹„ìŠ¤ ìƒíƒœ
| ì„œë¹„ìŠ¤ | ì²´í¬ ë°©ì‹ | ì²´í¬ ì£¼ê¸° |
|--------|----------|----------|
| OpenAI | API ping | 5ë¶„ |
| Render | ì„œë²„ ìƒíƒœ | 1ë¶„ |
| Solapi | ìƒíƒœ API | 10ë¶„ |
| SendGrid | ìƒíƒœ í˜ì´ì§€ | 10ë¶„ |
| Airtable | API ping | 5ë¶„ |
| Toss | ìƒíƒœ API | 5ë¶„ |

### 3ï¸âƒ£ ë‚´ë¶€ ì‹œìŠ¤í…œ ìƒíƒœ
| í•­ëª© | ëª¨ë‹ˆí„°ë§ | ê²½ê³  ê¸°ì¤€ |
|------|----------|----------|
| DB ì—°ê²° | ì—°ê²° ìƒíƒœ | ì—°ê²° ì‹¤íŒ¨ |
| ë©”ëª¨ë¦¬ | ì‚¬ìš©ë¥  | 80% ì´ìƒ |
| ë””ìŠ¤í¬ | ì‚¬ìš©ë¥  | 80% ì´ìƒ |
| ì—ëŸ¬ìœ¨ | ìµœê·¼ 1ì‹œê°„ | 5% ì´ìƒ |

## ê²½ê³  ë“±ê¸‰

\`\`\`
ğŸŸ¢ NORMAL   - ì •ìƒ ìš´ì˜
ğŸŸ¡ WARNING  - ì£¼ì˜ í•„ìš” (ì½”ë¯¸ì—ê²Œ ì•Œë¦¼)
ğŸ”´ CRITICAL - ì¦‰ì‹œ ëŒ€ì‘ (ì½”ë¯¸ + í‘¸ë¥´ë¯¸ë¥´ë‹˜ ì•Œë¦¼)
âš« OUTAGE   - ì„œë¹„ìŠ¤ ì¤‘ë‹¨ (ê¸´ê¸‰ ëŒ€ì‘ ëª¨ë“œ)
\`\`\`

## ìë™ ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤

### í† í°/í¬ë ˆë”§ ë¶€ì¡± ì‹œ
\`\`\`
ğŸŸ¡ WARNING (30% ë‚¨ìŒ)
    â†“
ì½”ë¯¸ì—ê²Œ ì•Œë¦¼: "OpenAI í¬ë ˆë”§ 30% ë‚¨ìŒ, ì¶©ì „ í•„ìš”"
    â†“
ğŸ”´ CRITICAL (10% ë‚¨ìŒ)
    â†“
1. ì½”ë¯¸ + í‘¸ë¥´ë¯¸ë¥´ë‹˜ ê¸´ê¸‰ ì•Œë¦¼
2. ë¹„í•„ìˆ˜ ê¸°ëŠ¥ ìë™ ì œí•œ (ì´ë¯¸ì§€ ìƒì„± ì¼ì‹œ ì¤‘ë‹¨)
3. ëŒ€ì²´ ì„œë¹„ìŠ¤ í™œì„±í™” (ìˆë‹¤ë©´)
\`\`\`

### ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ
\`\`\`
ì„œë¹„ìŠ¤ ì‘ë‹µ ì—†ìŒ ê°ì§€
    â†“
ì¬ì‹œë„ (3íšŒ, 30ì´ˆ ê°„ê²©)
    â†“
ì—¬ì „íˆ ì‹¤íŒ¨
    â†“
1. ğŸ”´ CRITICAL ì•Œë¦¼
2. í•´ë‹¹ ê¸°ëŠ¥ ì¼ì‹œ ì¤‘ë‹¨
3. ì†Œì›ì´ë“¤ì—ê²Œ ì•ˆë‚´ ë©”ì‹œì§€
4. ëŒ€ì²´ ë°©ì•ˆ ìë™ ì „í™˜ (ìˆë‹¤ë©´)
\`\`\`

## ëŒ€ì²´ ë°©ì•ˆ (Fallback)

| ì„œë¹„ìŠ¤ | ì£¼ ì„œë¹„ìŠ¤ | ëŒ€ì²´ ë°©ì•ˆ |
|--------|----------|----------|
| ì´ë¯¸ì§€ ìƒì„± | DALL-E 3 | ë¯¸ë¦¬ ì¤€ë¹„ëœ í…œí”Œë¦¿ ì´ë¯¸ì§€ |
| ë©”ì‹œì§€ ë°œì†¡ | Solapi | SendGrid ì´ë©”ì¼ |
| ì´ë©”ì¼ ë°œì†¡ | SendGrid | ì§ì ‘ SMTP |
| ë°ì´í„° ì €ì¥ | Airtable | ë¡œì»¬ JSON ë°±ì—… |

## ì¼ì¼ ë¦¬ìŠ¤í¬ ë³´ê³ 

\`\`\`
ã€ì¼ì¼ ë¦¬ìŠ¤í¬ ë³´ê³ ì„œã€‘
ì‘ì„±: risk-guardian
ëŒ€ìƒ: ì½”ë¯¸ â†’ Aurora Central

1. ì„œë¹„ìŠ¤ ìƒíƒœ ìš”ì•½
   âœ… OpenAI: ì •ìƒ (ì”ì•¡ 65%)
   âœ… Render: ì •ìƒ (ê°€ë™ë¥  100%)
   ğŸŸ¡ Solapi: ì£¼ì˜ (ì”ì•¡ â‚©8,500)
   âœ… SendGrid: ì •ìƒ

2. ì˜¤ëŠ˜ ë°œìƒ ì´ìŠˆ
   - 09:23 OpenAI ì¼ì‹œ ì§€ì—° (2ë¶„) â†’ ìë™ ë³µêµ¬
   
3. ì˜ˆìƒ ë¦¬ìŠ¤í¬
   - Solapi 3ì¼ ë‚´ ì¶©ì „ í•„ìš”
   
4. ê¶Œì¥ ì¡°ì¹˜
   - Solapi â‚©50,000 ì¶©ì „ ê¶Œì¥
\`\`\`
```

---

## ğŸ“ Phase 7: ìŠ¤í‚¬ íŒŒì¼ë“¤

### 7-1. Batch Processor

**íŒŒì¼:** `.claude/skills/batch-processor/SKILL.md`

```markdown
---
name: batch-processor
purpose: ëŒ€ëŸ‰ ì‘ì—… ë°°ì¹˜ ë¶„í•  ë° ë³‘ë ¬ ì²˜ë¦¬
version: 1.0.0
---

# ë°°ì¹˜ í”„ë¡œì„¸ì„œ ìŠ¤í‚¬

## ì—­í• 
- ëŒ€ëŸ‰ ì‘ì—…ì„ ì ì ˆí•œ í¬ê¸°ì˜ ë°°ì¹˜ë¡œ ë¶„í• 
- ì„œë¸Œ ì—ì´ì „íŠ¸ ë³‘ë ¬ í˜¸ì¶œ ì¡°ìœ¨
- ê²°ê³¼ ìˆ˜ì§‘ ë° í†µí•©

## ì‚¬ìš© ì‹œì 
- 10ê°œ ì´ìƒì˜ ë™ì¼ ìœ í˜• ì‘ì—…
- ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì‘ì—…ë“¤
- ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ëŒ€ëŸ‰ ì²˜ë¦¬

## ë°°ì¹˜ ë¶„í•  ê¸°ì¤€
| ì‘ì—… ìˆ˜ | ë°°ì¹˜ í¬ê¸° | ì´ìœ  |
|---------|----------|------|
| 1-10 | ì „ì²´ 1ê°œ | ì˜¤ë²„í—¤ë“œ ë°©ì§€ |
| 11-50 | 5ê°œì”© | ì ë‹¹í•œ ë³‘ë ¬ |
| 51-200 | 10ê°œì”© | íš¨ìœ¨ì  ë³‘ë ¬ |
| 200+ | 20ê°œì”© | ìµœëŒ€ ë³‘ë ¬ |

## ë³‘ë ¬ ì²˜ë¦¬ íë¦„

\`\`\`
ì…ë ¥ (100ê°œ ì‘ì—…)
    â†“
ë°°ì¹˜ ë¶„í•  (10ê°œ Ã— 10)
    â†“
ë³‘ë ¬ í˜¸ì¶œ [ë°°ì¹˜1] [ë°°ì¹˜2] ... [ë°°ì¹˜10]
    â†“
ê²°ê³¼ ìˆ˜ì§‘
    â†“
í†µí•© ì¶œë ¥
\`\`\`

## êµ¬í˜„ ì˜ˆì‹œ

\`\`\`javascript
async function processBatch(tasks, batchSize = 10) {
  const batches = [];
  for (let i = 0; i < tasks.length; i += batchSize) {
    batches.push(tasks.slice(i, i + batchSize));
  }
  
  const results = await Promise.all(
    batches.map(batch => processTaskBatch(batch))
  );
  
  return results.flat();
}
\`\`\`
```

### 7-2. Pipeline Runner

**íŒŒì¼:** `.claude/skills/pipeline-runner/SKILL.md`

```markdown
---
name: pipeline-runner
purpose: íŒŒì´í”„ë¼ì¸ ìë™ ì‹¤í–‰
version: 1.0.0
---

# íŒŒì´í”„ë¼ì¸ ëŸ¬ë„ˆ ìŠ¤í‚¬

## ì—­í• 
- íŒŒì´í”„ë¼ì¸ .md íŒŒì¼ ì½ê¸°
- ë‹¨ê³„ë³„ ìë™ ì‹¤í–‰
- ì„±ê³µ/ì‹¤íŒ¨ íŒë‹¨ ë° ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰
- Registry ê¸°ë¡

## ì‹¤í–‰ íë¦„

\`\`\`
íŒŒì´í”„ë¼ì¸ íŒŒì¼ ë¡œë“œ
    â†“
í˜„ì¬ ë‹¨ê³„ í™•ì¸
    â†“
í•´ë‹¹ ì—ì´ì „íŠ¸ í˜¸ì¶œ
    â†“
ê²°ê³¼ ê²€ì¦ (ì„±ê³µ/ì‹¤íŒ¨)
    â†“ ì„±ê³µ
ë‹¤ìŒ ë‹¨ê³„ ìë™ ì§„í–‰
    â†“ ì‹¤íŒ¨
ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ) â†’ ì‹¤íŒ¨ ì‹œ ì½”ë¯¸ ì•Œë¦¼
\`\`\`

## ë‹¨ê³„ ì •ì˜ í˜•ì‹

\`\`\`yaml
step:
  id: 1
  name: "ë‹¨ê³„ ì´ë¦„"
  agent: agent-name
  input: { ... }
  output: { ... }
  success_condition: "ì¡°ê±´"
  next_step: 2  # ë˜ëŠ” [2, 3] ë³‘ë ¬
  on_failure: "retry" | "skip" | "alert"
\`\`\`

## ì‹¤í–‰ ê²°ê³¼ ê¸°ë¡

\`\`\`json
{
  "pipeline": "wish-journey",
  "run_id": "run_20251229_001",
  "started_at": "2025-12-29T10:00:00Z",
  "completed_at": "2025-12-29T10:00:45Z",
  "status": "success",
  "steps": [
    {"step": 1, "status": "success", "duration": "2s"},
    {"step": 2, "status": "success", "duration": "25s"},
    ...
  ]
}
\`\`\`
```

### 7-3. Feedback Loop

**íŒŒì¼:** `.claude/skills/feedback-loop/SKILL.md`

```markdown
---
name: feedback-loop
purpose: ì—ëŸ¬ í•™ìŠµ ë° ì§€ì¹¨ ìë™ ê°œì„ 
version: 1.0.0
---

# í”¼ë“œë°± ë£¨í”„ ìŠ¤í‚¬

## ì—­í• 
- ì—ëŸ¬ ë°œìƒ ì‹œ ìë™ ê¸°ë¡
- ì›ì¸ ë¶„ì„
- ì§€ì¹¨ ê°œì„  ì œì•ˆ
- ìŠ¹ì¸ í›„ ë°˜ì˜

## í”¼ë“œë°± íë¦„

\`\`\`
ì—ëŸ¬ ë°œìƒ
    â†“
docs/learnings/errors/ì— ê¸°ë¡
    â†“
ì›ì¸ ë¶„ì„ (íŒ¨í„´ íŒŒì•…)
    â†“
í•´ë‹¹ ì—ì´ì „íŠ¸ ì§€ì¹¨ ê°œì„ ì•ˆ ì‘ì„±
    â†“
ì½”ë¯¸ ê²€í† /ìŠ¹ì¸
    â†“
AGENT.md ë˜ëŠ” SKILL.md ì—…ë°ì´íŠ¸
    â†“
docs/learnings/improvements/ì— ê°œì„  ê¸°ë¡
\`\`\`

## ì—ëŸ¬ ê¸°ë¡ í˜•ì‹

**íŒŒì¼:** `docs/learnings/errors/YYYY-MM-DD_agent-name_error.md`

\`\`\`markdown
---
date: 2025-12-29
agent: image-creator
error_type: API_ERROR
severity: HIGH
---

# ì—ëŸ¬ ë³´ê³ ì„œ

## ìš”ì•½
DALL-E 3 API íƒ€ì„ì•„ì›ƒ ë°œìƒ

## ìƒì„¸
- ì‹œê°„: 09:23:45
- ìš”ì²­: ì†Œì›ê·¸ë¦¼ ìƒì„±
- ì‘ë‹µ: 30ì´ˆ íƒ€ì„ì•„ì›ƒ

## ì›ì¸ ë¶„ì„
OpenAI ì„œë²„ ì¼ì‹œì  ê³¼ë¶€í•˜

## ì œì•ˆ ì¡°ì¹˜
1. ì¬ì‹œë„ ë¡œì§ ì¶”ê°€ (3íšŒ)
2. íƒ€ì„ì•„ì›ƒ ì‹œê°„ 45ì´ˆë¡œ ì¦ê°€
3. Fallback ì´ë¯¸ì§€ ì¤€ë¹„
\`\`\`

## ê°œì„  ê¸°ë¡ í˜•ì‹

**íŒŒì¼:** `docs/learnings/improvements/YYYY-MM-DD_improvement.md`

\`\`\`markdown
---
date: 2025-12-29
related_error: 2025-12-29_image-creator_error
applied_to: image-creator
---

# ê°œì„  ê¸°ë¡

## ë³€ê²½ ì‚¬í•­
image-creator ì—ì´ì „íŠ¸ì— ì¬ì‹œë„ ë¡œì§ ì¶”ê°€

## ì ìš© ì „
\`\`\`
ë‹¨ì¼ API í˜¸ì¶œ â†’ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬
\`\`\`

## ì ìš© í›„
\`\`\`
API í˜¸ì¶œ â†’ ì‹¤íŒ¨ ì‹œ 3íšŒ ì¬ì‹œë„ â†’ ì—¬ì „íˆ ì‹¤íŒ¨ ì‹œ Fallback
\`\`\`

## ê²°ê³¼
ì—ëŸ¬ìœ¨ 15% â†’ 2%ë¡œ ê°ì†Œ
\`\`\`
```

---

## ğŸ“ Phase 8: ê°€ì´ë“œë¼ì¸

### 8-1. Context Optimization

**íŒŒì¼:** `.claude/guidelines/CONTEXT-OPTIMIZATION.md`

```markdown
# ì»¨í…ìŠ¤íŠ¸ ìµœì í™” ê°€ì´ë“œë¼ì¸

## ì›ì¹™
> "ì»¨í…ìŠ¤íŠ¸ëŠ” ê¸ˆì´ë‹¤. ë‚­ë¹„í•˜ì§€ ë§ˆë¼."

## ë¶„ë¦¬ ê¸°ì¤€

| ì‘ì—… ìœ í˜• | ì²˜ë¦¬ ë°©ì‹ | ì´ìœ  |
|----------|----------|------|
| ì§€ëŠ¥ í•„ìš” | ì—ì´ì „íŠ¸ | AI íŒë‹¨ í•„ìš” |
| ë°˜ë³µ ì‘ì—… | ìŠ¤í¬ë¦½íŠ¸ | ì •í™•ì„± ë³´ì¥ |
| ì™¸ë¶€ ì—°ë™ | MCP | ì»¨í…ìŠ¤íŠ¸ ì ˆì•½ |
| ë°ì´í„° ì¶”ì¶œ | ìŠ¤í¬ë¦½íŠ¸ | ëŒ€ëŸ‰ ì²˜ë¦¬ |
| íŒŒì¼ ìƒì„± | ìŠ¤í¬ë¦½íŠ¸ | ì •í™•ì„± ë³´ì¥ |

## ê¸ˆì§€ ì‚¬í•­

âŒ ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ì»¨í…ìŠ¤íŠ¸ì— ì§ì ‘ ë¡œë“œ
âŒ ë°˜ë³µì ì¸ íŒŒì¼ ìƒì„±ì„ ì—ì´ì „íŠ¸ê°€ ì§ì ‘
âŒ ì™¸ë¶€ API í˜¸ì¶œ ê²°ê³¼ ì „ì²´ë¥¼ ì»¨í…ìŠ¤íŠ¸ì—
âŒ ë¡œê·¸ ì „ì²´ë¥¼ ì»¨í…ìŠ¤íŠ¸ì— í¬í•¨

## ê¶Œì¥ ì‚¬í•­

âœ… í•µì‹¬ ì •ë³´ë§Œ ì»¨í…ìŠ¤íŠ¸ì—
âœ… ë¬´ê±°ìš´ ì²˜ë¦¬ëŠ” ìŠ¤í¬ë¦½íŠ¸/MCPë¡œ
âœ… ê²°ê³¼ ìš”ì•½ë§Œ ì—ì´ì „íŠ¸ì—ê²Œ ì „ë‹¬
âœ… í•„ìš”í•œ ë°ì´í„°ë§Œ ì„ ë³„ì ìœ¼ë¡œ ë¡œë“œ

## ì˜ˆì‹œ

\`\`\`
âŒ ë‚˜ìœ ì˜ˆ:
"ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ì‚¬ìš©ì ì •ë³´ë¥¼ ë¶„ì„í•´ì¤˜"
â†’ 10ë§Œ ê±´ ë°ì´í„°ê°€ ì»¨í…ìŠ¤íŠ¸ì—!

âœ… ì¢‹ì€ ì˜ˆ:
"ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìµœê·¼ 7ì¼ ì‹ ê·œ ì‚¬ìš©ì í†µê³„ë§Œ ì¡°íšŒí•´ì„œ ë¶„ì„í•´ì¤˜"
â†’ ìš”ì•½ ë°ì´í„°ë§Œ ì»¨í…ìŠ¤íŠ¸ì—
\`\`\`
```

### 8-2. Batch Processing

**íŒŒì¼:** `.claude/guidelines/BATCH-PROCESSING.md`

```markdown
# ë°°ì¹˜ ì²˜ë¦¬ ê°€ì´ë“œë¼ì¸

## ì–¸ì œ ë°°ì¹˜ë¡œ?

âœ… ë°°ì¹˜ ì²˜ë¦¬ ì í•©:
- ë™ì¼ ìœ í˜• ì‘ì—… 10ê°œ ì´ìƒ
- ê° ì‘ì—…ì´ ë…ë¦½ì 
- ìˆœì„œ ë¬´ê´€
- ì‹¤íŒ¨í•´ë„ ë‹¤ë¥¸ ì‘ì—…ì— ì˜í–¥ ì—†ìŒ

âŒ ë°°ì¹˜ ì²˜ë¦¬ ë¶€ì í•©:
- ì‘ì—… ê°„ ì˜ì¡´ì„± ìˆìŒ
- ìˆœì„œê°€ ì¤‘ìš”í•¨
- ì‹¤ì‹œê°„ ì‘ë‹µ í•„ìš”

## ë°°ì¹˜ í¬ê¸°

| ì‘ì—… ìˆ˜ | ë°°ì¹˜ í¬ê¸° | ë³‘ë ¬ë„ |
|---------|----------|--------|
| 1-10 | ì „ì²´ 1ê°œ | 1 |
| 11-50 | 5ê°œì”© | 2-10 |
| 51-200 | 10ê°œì”© | 5-20 |
| 200+ | 20ê°œì”© | 10+ |

## ì—ëŸ¬ ì²˜ë¦¬

\`\`\`
ë°°ì¹˜ ì‹¤í–‰ ì¤‘ ì¼ë¶€ ì‹¤íŒ¨ ì‹œ:
1. ì„±ê³µí•œ ì‘ì—…ì€ ê·¸ëŒ€ë¡œ ì§„í–‰
2. ì‹¤íŒ¨í•œ ì‘ì—…ë§Œ ë³„ë„ ë°°ì¹˜ë¡œ ì¬ì‹œë„
3. 3íšŒ ì¬ì‹œë„ í›„ì—ë„ ì‹¤íŒ¨ â†’ ì½”ë¯¸ ì•Œë¦¼
4. ì „ì²´ ê²°ê³¼ì— ì‹¤íŒ¨ ëª©ë¡ í¬í•¨
\`\`\`
```

### 8-3. Feedback Loop

**íŒŒì¼:** `.claude/guidelines/FEEDBACK-LOOP.md`

```markdown
# í”¼ë“œë°± ë£¨í”„ ê°€ì´ë“œë¼ì¸

## ì›ì¹™
> "ì‹¤ìˆ˜ëŠ” í•™ìŠµì˜ ê¸°íšŒë‹¤. ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë‘ ë²ˆ í•˜ì§€ ë§ˆë¼."

## í”„ë¡œì„¸ìŠ¤

\`\`\`
1. ì—ëŸ¬ ë°œìƒ â†’ ì¦‰ì‹œ ê¸°ë¡
2. íŒ¨í„´ ë¶„ì„ â†’ ê·¼ë³¸ ì›ì¸
3. ì§€ì¹¨ ê°œì„  â†’ ì½”ë¯¸ ìŠ¹ì¸
4. ë°˜ì˜ â†’ ìˆ™ë ¨ë„ í–¥ìƒ
\`\`\`

## ê¸°ë¡ ìœ„ì¹˜

- ì—ëŸ¬: `docs/learnings/errors/`
- ê°œì„ : `docs/learnings/improvements/`

## íŒŒì¼ëª… ê·œì¹™

\`\`\`
errors/YYYY-MM-DD_agent-name_error-type.md
improvements/YYYY-MM-DD_improvement-summary.md
\`\`\`

## ì—ì´ì „íŠ¸ ìˆ™ë ¨ë„ ì¶”ì 

ë§¤ì£¼ ì—ì´ì „íŠ¸ë³„ ì„±ê³µë¥  ì¶”ì :
- ì„±ê³µë¥  95%+ â†’ ìˆ™ë ¨
- ì„±ê³µë¥  90-95% â†’ ì–‘í˜¸
- ì„±ê³µë¥  85-90% â†’ ê°œì„  í•„ìš”
- ì„±ê³µë¥  85%- â†’ ì§‘ì¤‘ ì ê²€
```

---

## ğŸ“ Phase 9: ì†Œì›ê·¸ë¦¼ API êµ¬í˜„

**íŒŒì¼:** `routes/wishImageRoutes.js`

```javascript
const express = require('express');
const router = express.Router();
const OpenAI = require('openai');

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

// ë³´ì„ë³„ ìƒ‰ìƒ ë§¤í•‘
const gemColors = {
  ruby: { primary: 'deep red', secondary: 'golden', keyword: 'ì—´ì •ê³¼ ìš©ê¸°' },
  sapphire: { primary: 'deep blue', secondary: 'silver', keyword: 'ì•ˆì •ê³¼ ì§€í˜œ' },
  emerald: { primary: 'emerald green', secondary: 'golden', keyword: 'ì„±ì¥ê³¼ ì¹˜ìœ ' },
  diamond: { primary: 'white crystal', secondary: 'rainbow', keyword: 'ëª…í™•í•œ ê²°ë‹¨' },
  citrine: { primary: 'warm yellow', secondary: 'orange', keyword: 'ê¸ì • ì—ë„ˆì§€' }
};

// Fallback ì´ë¯¸ì§€ ê²½ë¡œ
const fallbackImages = {
  ruby: '/images/fallback/ruby.png',
  sapphire: '/images/fallback/sapphire.png',
  emerald: '/images/fallback/emerald.png',
  diamond: '/images/fallback/diamond.png',
  citrine: '/images/fallback/citrine.png'
};

// ì†Œì›ê·¸ë¦¼ ìƒì„±
router.post('/generate', async (req, res) => {
  try {
    const { wish_content, gem_type, style = 'miracle_fusion' } = req.body;
    
    const colors = gemColors[gem_type] || gemColors.ruby;
    
    const prompt = `
      A hopeful, magical illustration representing: "${wish_content}"
      
      Style: Cosmic universe background with ${colors.primary} and ${colors.secondary} tones
      Mood: Hopeful, bright, inspiring, miraculous
      Elements: Stars, soft light rays, gentle sparkles, symbolizing ${colors.keyword}
      Art style: Digital art, dreamy, ethereal, Korean aesthetic
      
      No text, no words, no letters, no characters
    `.trim();
    
    // ì¬ì‹œë„ ë¡œì§ (ìµœëŒ€ 3íšŒ)
    let lastError = null;
    for (let attempt = 1; attempt <= 3; attempt++) {
      try {
        const response = await openai.images.generate({
          model: "dall-e-3",
          prompt: prompt,
          n: 1,
          size: "1024x1024",
          quality: "standard"
        });
        
        // ì„±ê³µ ì‹œ ë°˜í™˜
        return res.json({
          success: true,
          image_url: response.data[0].url,
          prompt_used: prompt,
          gem_type: gem_type,
          attempt: attempt
        });
        
      } catch (apiError) {
        lastError = apiError;
        console.log(`Image generation attempt ${attempt} failed:`, apiError.message);
        
        if (attempt < 3) {
          // ì¬ì‹œë„ ì „ ëŒ€ê¸° (2ì´ˆ)
          await new Promise(resolve => setTimeout(resolve, 2000));
        }
      }
    }
    
    // 3íšŒ ëª¨ë‘ ì‹¤íŒ¨ ì‹œ Fallback
    console.log('All attempts failed, using fallback image');
    return res.json({
      success: true,
      image_url: fallbackImages[gem_type] || fallbackImages.ruby,
      prompt_used: prompt,
      gem_type: gem_type,
      fallback: true,
      error_message: lastError?.message
    });
    
  } catch (error) {
    console.error('Image generation error:', error);
    res.status(500).json({
      success: false,
      error: 'ì†Œì›ê·¸ë¦¼ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
      fallback_url: fallbackImages.ruby
    });
  }
});

// ìƒíƒœ ì²´í¬ (Risk Guardianìš©)
router.get('/status', async (req, res) => {
  try {
    // ê°„ë‹¨í•œ API ì—°ê²° í…ŒìŠ¤íŠ¸
    const models = await openai.models.list();
    res.json({
      status: 'ok',
      service: 'openai',
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    res.json({
      status: 'error',
      service: 'openai',
      error: error.message,
      timestamp: new Date().toISOString()
    });
  }
});

module.exports = router;
```

---

## ğŸ“ Phase 10: server.js ìˆ˜ì •

**ì¶”ê°€í•  ë‚´ìš©:**

```javascript
// ê¸°ì¡´ ë¼ìš°íŠ¸ ì•„ë˜ì— ì¶”ê°€
const wishImageRoutes = require('./routes/wishImageRoutes');
app.use('/api/wish-image', wishImageRoutes);
```

---

## ğŸ“ Phase 11: Registry ìƒ˜í”Œ

**íŒŒì¼:** `data/registry/2025-12-29.json`

```json
{
  "date": "2025-12-29",
  "version": "1.0.0",
  "tasks": [],
  "summary": {
    "total_tasks": 0,
    "success": 0,
    "failed": 0,
    "pending": 0
  },
  "services": {
    "openai": { "status": "unknown", "last_check": null },
    "render": { "status": "unknown", "last_check": null },
    "solapi": { "status": "unknown", "last_check": null },
    "sendgrid": { "status": "unknown", "last_check": null }
  }
}
```

---

## ğŸ“ Phase 12: Metrics ìƒ˜í”Œ

**íŒŒì¼:** `data/metrics/risk-dashboard.json`

```json
{
  "last_updated": null,
  "overall_status": "ğŸŸ¢ NORMAL",
  "services": {
    "openai": {
      "status": "ğŸŸ¢",
      "credit_remaining": "unknown",
      "last_check": null
    },
    "anthropic": {
      "status": "ğŸŸ¢",
      "tokens_used": "unknown",
      "last_check": null
    },
    "solapi": {
      "status": "ğŸŸ¢",
      "balance": "unknown",
      "last_check": null
    },
    "sendgrid": {
      "status": "ğŸŸ¢",
      "daily_sent": "unknown",
      "last_check": null
    },
    "render": {
      "status": "ğŸŸ¢",
      "uptime": "unknown",
      "last_check": null
    }
  },
  "alerts": [],
  "recommendations": []
}
```

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: í´ë” êµ¬ì¡°
- [ ] .claude/agents/ ì „ì²´ êµ¬ì¡°
- [ ] .claude/skills/ ì „ì²´ êµ¬ì¡°
- [ ] .claude/mcp/
- [ ] .claude/pipelines/
- [ ] .claude/guidelines/
- [ ] scripts/
- [ ] data/registry/
- [ ] data/metrics/
- [ ] docs/learnings/errors/
- [ ] docs/learnings/improvements/

### Phase 2-4: ì—ì´ì „íŠ¸ ì •ì˜
- [ ] AGENT-INDEX.md
- [ ] aurora-central/AGENT.md
- [ ] free-orch/AGENT.md
- [ ] free-orch/pipelines/wish-journey.md
- [ ] image-creator/AGENT.md
- [ ] risk-guardian/AGENT.md

### Phase 5-6: ìŠ¤í‚¬ ì •ì˜
- [ ] batch-processor/SKILL.md
- [ ] pipeline-runner/SKILL.md
- [ ] feedback-loop/SKILL.md

### Phase 7: ê°€ì´ë“œë¼ì¸
- [ ] CONTEXT-OPTIMIZATION.md
- [ ] BATCH-PROCESSING.md
- [ ] FEEDBACK-LOOP.md

### Phase 8-10: ì†Œì›ê·¸ë¦¼ êµ¬í˜„
- [ ] wishImageRoutes.js
- [ ] server.js ìˆ˜ì •
- [ ] Fallback ì´ë¯¸ì§€ ì¤€ë¹„
### Phase 11-12: ë°ì´í„° êµ¬ì¡°
- [ ] registry ìƒ˜í”Œ
- [ ] metrics ìƒ˜í”Œ

---

## ğŸ¯ ìµœì¢… í™•ì¸

### ìµœìˆ˜ë¯¼ë‹˜ 5ëŒ€ ë¹„ë²• ì²´í¬

âœ… **1. ê³„ì¸µì  ì„œë¸Œ ì—ì´ì „íŠ¸ + ë³‘ë ¬ í˜¸ì¶œ**
- 4 Level ê³„ì¸µ êµ¬ì¡°
- batch-processor ìŠ¤í‚¬

âœ… **2. íŒŒì´í”„ë¼ì¸ ë¬¸ì„œí™” + ìë™ ì‹¤í–‰**
- pipelines/ í´ë”
- pipeline-runner ìŠ¤í‚¬

âœ… **3. ì»¨í…ìŠ¤íŠ¸ ìµœì í™” + ìŠ¤í¬ë¦½íŠ¸/MCP**
- CONTEXT-OPTIMIZATION ê°€ì´ë“œë¼ì¸
- scripts/ í´ë”
- MCP ê³„íš

âœ… **4. í”¼ë“œë°± ë£¨í”„ + ì—ì´ì „íŠ¸ ê°œì¸í™”**
- feedback-loop ìŠ¤í‚¬
- learnings/ êµ¬ì¡°

âœ… **5. ë¹„ì¦ˆë‹ˆìŠ¤ ì „ ê³¼ì • ìë™í™”**
- 8ê°œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
- risk-guardian ë¦¬ìŠ¤í¬ ê´€ë¦¬

---

## ğŸš€ ì‹¤í–‰ ëª…ë ¹

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì´ ì§€ì‹œì„œëŒ€ë¡œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
# ê° Phase ì™„ë£Œ í›„ ë³´ê³ 
```

---

**ì‘ì„±:** ì½”ë¯¸ (Chief Operating AI Manager)  
**ìŠ¹ì¸:** í‘¸ë¥´ë¯¸ë¥´ (CEO)  
**ë‚ ì§œ:** 2025-12-29  
**ë²„ì „:** 1.0.0

> "ì½”ë¯¸ê°€ ê¸°ì¹¨ë§Œ í•´ë„ ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ì›€ì§ì¸ë‹¤!"  
> "ìˆ™ë ¨ëœ ê³µì¥ì¥ì´ ê±°ëŒ€í•œ ìë™í™” ìƒì‚° ë¼ì¸ì„ ìš´ì˜í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬"1
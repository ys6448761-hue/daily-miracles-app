# 💰 가격/정책 패치 v1.1 - 푸르미르 CEO 확정

**작성:** 루미 (Data Analyst)  
**검토:** 코미 (Chief Operating AI Manager)  
**승인:** 푸르미르 CEO  
**확정일:** 2025-01-04  
**상태:** ✅ 확정 - Code 즉시 반영 필요

---

## ✅ 확정 사항 (3가지)

### 1️⃣ 요트 가격 확정

| 구분 | list (정상가) | sell (판매가) | cost (원가) |
|------|---------------|---------------|-------------|
| **평일 (월~목)** | 40,000 | 35,000 | 25,000 |
| **주말/불꽃 (금/토/일/공휴)** | 60,000 | 55,000 | 50,000 |

### 2️⃣ 케이블카 cost 채널 기본값

| 항목 | 값 |
|------|-----|
| sell | 16,000 |
| cost | 15,000 |
| cost 채널 | paper (지류권) 기본 |

> 추후 mobile/center cost 옵션 필요 시 channel 확장 가능

### 3️⃣ 소원항해단 체험 (experience) 가격 + 장소 룰

| 항목 | 값 |
|------|-----|
| list (정상가) | 39,900 |
| sell (판매가) | 35,000 |
| cost (원가) | 22,000 |

**Cost Breakdown:**
- vendor: 2,000
- travelAgency: 5,000
- writer: 10,000
- materials: 5,000
- **합계: 22,000**

**장소 정책 (P0 - 필수!):**
```
주말/공휴 (금/토/일/공휴):
  → location = "gallery_or_mongdol" (필수!)
  → ship 진행 금지
  → 사무실 앞 1~2분 거리

평일 (월~목):
  → location = "ship_or_gallery" (운영 판단)
  → ship 가능
```

---

## 📋 Code 반영 지시문 (복붙용)

```
[가격/정책 패치 v1.1 - 푸르미르 확정]

공통 규칙:
- sell=ceiling(상한선) 고정, cost는 입금가/정산가.
- hotel은 dayType(5분류), leisure는 weekType(2분류) + 일부 상품은 specialType(불꽃) 적용.
- 고객 화면은 sell 중심 + (선택) list 기준 가치만 표시('할인' 용어 금지).
- API 응답에 priceVersion 포함.

1) 케이블카(1인)
- sell 16,000
- cost 채널 기본값: paper(지류권) = 15,000
(추후 mobile/center cost 옵션이 필요하면 channel 확장 가능)

2) 요트(1인) — 요일/불꽃에 따라 2세트
A. weekday(월~목)
- list 40,000 / sell 35,000 / cost 25,000
B. weekend_fireworks(금/토/일/공휴)
- list 60,000 / sell 55,000 / cost 50,000

구현 규칙:
- weekType = weekend 인 경우라도, 요트는 "불꽃 시즌/운영"으로 weekend_fireworks 가격 적용.
- dayType in {fri, sat, sun, holiday} => yachtPriceSet = weekend_fireworks

3) 소원항해단 체험 experience(1인)
- list 39,900 / sell 35,000 / cost 22,000
(cost breakdown: vendor 2,000 + travelAgency 5,000 + writer 10,000 + materials 5,000)
[정책 P0] dayType in {fri, sat, sun, holiday} => location MUST be "gallery_or_mongdol"
(사무실 앞 1~2분 거리. ship 진행 금지)
weekday(월~목)는 ship_or_gallery 허용(운영 판단)

4) 유람선(1인) 참고(기존 유지)
- weekday: list 19,800 / sell 13,000 / cost 8,000
- weekend_fireworks(금/토/일/공휴): list 45,000 / sell 35,000 / cost 28,000
```

---

## 🔧 데이터 구조 권장사항

### variant 필드 추가 (혼선 방지)

```javascript
// 요트
yacht: {
  variant: 'weekday' | 'weekend_fireworks'
}

// 유람선
cruise: {
  variant: 'weekday' | 'weekend_fireworks'
}
```

> 나중에 "주말인데 불꽃 아닌 회차"가 생겨도 variant만 추가하면 됨

---

## ✅ 반영 후 테스트 케이스 (3개 필수)

```bash
# 1. 요트 weekday 케이스
POST /api/v2/quote/calculate
{ "leisure": "yacht", "day_type": "mon-thu" }
→ 기대: sell 35,000/인

# 2. 요트 불꽃 케이스  
POST /api/v2/quote/calculate
{ "leisure": "yacht", "day_type": "sat" }
→ 기대: sell 55,000/인

# 3. 체험 장소 룰
POST /api/v2/quote/calculate
{ "has_wish_voyage": true, "wish_voyage_type": "experience", "day_type": "sat" }
→ 기대: location = "gallery_or_mongdol" (ship 불가)
```

---

## 📊 전체 가격표 요약

| 상품 | 구분 | list | sell | cost |
|------|------|------|------|------|
| **케이블카** | 공통 | - | 16,000 | 15,000 |
| **아쿠아플라넷** | 공통 | - | 32,000 | (확인필요) |
| **유람선** | 평일 | 19,800 | 13,000 | 8,000 |
| **유람선** | 주말/불꽃 | 45,000 | 35,000 | 28,000 |
| **요트** | 평일 | 40,000 | 35,000 | 25,000 |
| **요트** | 주말/불꽃 | 60,000 | 55,000 | 50,000 |
| **소원항해단 basic** | 공통 | 34,900 | 34,900 | (확인필요) |
| **소원항해단 online** | 공통 | 24,900 | 24,900 | (확인필요) |
| **소원항해단 experience** | 공통 | 39,900 | 35,000 | 22,000 |

---

**확정일:** 2025-01-04  
**루미 서명:** 📊✨  
**코미 검토:** 🤖✅  
**푸르미르 CEO 승인:** 👑✅# 💰 가격/정책 패치 v1.1 - 푸르미르 CEO 확정

**작성:** 루미 (Data Analyst)  
**검토:** 코미 (Chief Operating AI Manager)  
**승인:** 푸르미르 CEO  
**확정일:** 2025-01-04  
**상태:** ✅ 확정 - Code 즉시 반영 필요

---

## ✅ 확정 사항 (3가지)

### 1️⃣ 요트 가격 확정

| 구분 | list (정상가) | sell (판매가) | cost (원가) |
|------|---------------|---------------|-------------|
| **평일 (월~목)** | 40,000 | 35,000 | 25,000 |
| **주말/불꽃 (금/토/일/공휴)** | 60,000 | 55,000 | 50,000 |

### 2️⃣ 케이블카 cost 채널 기본값

| 항목 | 값 |
|------|-----|
| sell | 16,000 |
| cost | 15,000 |
| cost 채널 | paper (지류권) 기본 |

> 추후 mobile/center cost 옵션 필요 시 channel 확장 가능

### 3️⃣ 소원항해단 체험 (experience) 가격 + 장소 룰

| 항목 | 값 |
|------|-----|
| list (정상가) | 39,900 |
| sell (판매가) | 35,000 |
| cost (원가) | 22,000 |

**Cost Breakdown:**
- vendor: 2,000
- travelAgency: 5,000
- writer: 10,000
- materials: 5,000
- **합계: 22,000**

**장소 정책 (P0 - 필수!):**
```
주말/공휴 (금/토/일/공휴):
  → location = "gallery_or_mongdol" (필수!)
  → ship 진행 금지
  → 사무실 앞 1~2분 거리

평일 (월~목):
  → location = "ship_or_gallery" (운영 판단)
  → ship 가능
```

---

## 📋 Code 반영 지시문 (복붙용)

```
[가격/정책 패치 v1.1 - 푸르미르 확정]

공통 규칙:
- sell=ceiling(상한선) 고정, cost는 입금가/정산가.
- hotel은 dayType(5분류), leisure는 weekType(2분류) + 일부 상품은 specialType(불꽃) 적용.
- 고객 화면은 sell 중심 + (선택) list 기준 가치만 표시('할인' 용어 금지).
- API 응답에 priceVersion 포함.

1) 케이블카(1인)
- sell 16,000
- cost 채널 기본값: paper(지류권) = 15,000
(추후 mobile/center cost 옵션이 필요하면 channel 확장 가능)

2) 요트(1인) — 요일/불꽃에 따라 2세트
A. weekday(월~목)
- list 40,000 / sell 35,000 / cost 25,000
B. weekend_fireworks(금/토/일/공휴)
- list 60,000 / sell 55,000 / cost 50,000

구현 규칙:
- weekType = weekend 인 경우라도, 요트는 "불꽃 시즌/운영"으로 weekend_fireworks 가격 적용.
- dayType in {fri, sat, sun, holiday} => yachtPriceSet = weekend_fireworks

3) 소원항해단 체험 experience(1인)
- list 39,900 / sell 35,000 / cost 22,000
(cost breakdown: vendor 2,000 + travelAgency 5,000 + writer 10,000 + materials 5,000)
[정책 P0] dayType in {fri, sat, sun, holiday} => location MUST be "gallery_or_mongdol"
(사무실 앞 1~2분 거리. ship 진행 금지)
weekday(월~목)는 ship_or_gallery 허용(운영 판단)

4) 유람선(1인) 참고(기존 유지)
- weekday: list 19,800 / sell 13,000 / cost 8,000
- weekend_fireworks(금/토/일/공휴): list 45,000 / sell 35,000 / cost 28,000
```

---

## 🔧 데이터 구조 권장사항

### variant 필드 추가 (혼선 방지)

```javascript
// 요트
yacht: {
  variant: 'weekday' | 'weekend_fireworks'
}

// 유람선
cruise: {
  variant: 'weekday' | 'weekend_fireworks'
}
```

> 나중에 "주말인데 불꽃 아닌 회차"가 생겨도 variant만 추가하면 됨

---

## ✅ 반영 후 테스트 케이스 (3개 필수)

```bash
# 1. 요트 weekday 케이스
POST /api/v2/quote/calculate
{ "leisure": "yacht", "day_type": "mon-thu" }
→ 기대: sell 35,000/인

# 2. 요트 불꽃 케이스  
POST /api/v2/quote/calculate
{ "leisure": "yacht", "day_type": "sat" }
→ 기대: sell 55,000/인

# 3. 체험 장소 룰
POST /api/v2/quote/calculate
{ "has_wish_voyage": true, "wish_voyage_type": "experience", "day_type": "sat" }
→ 기대: location = "gallery_or_mongdol" (ship 불가)
```

---

## 📊 전체 가격표 요약

| 상품 | 구분 | list | sell | cost |
|------|------|------|------|------|
| **케이블카** | 공통 | - | 16,000 | 15,000 |
| **아쿠아플라넷** | 공통 | - | 32,000 | (확인필요) |
| **유람선** | 평일 | 19,800 | 13,000 | 8,000 |
| **유람선** | 주말/불꽃 | 45,000 | 35,000 | 28,000 |
| **요트** | 평일 | 40,000 | 35,000 | 25,000 |
| **요트** | 주말/불꽃 | 60,000 | 55,000 | 50,000 |
| **소원항해단 basic** | 공통 | 34,900 | 34,900 | (확인필요) |
| **소원항해단 online** | 공통 | 24,900 | 24,900 | (확인필요) |
| **소원항해단 experience** | 공통 | 39,900 | 35,000 | 22,000 |

---

**확정일:** 2025-01-04  
**루미 서명:** 📊✨  
**코미 검토:** 🤖✅  
**푸르미르 CEO 승인:** 👑
# 💰 가격/정책 패치 v1.1 - 푸르미르 CEO 확정

루미 분석 모드 시작! 📊✨

📊 [가격/정책 패치 v1.1] 반영 준비 상태 점검 + Code 즉시 반영 체크리스트
📌 핵심 발견: 문서 내용은 “가격 3종 + 장소 룰(P0)”까지 완결되어 있고, 개발팀이 바로 넣기만 하면 됩니다. 다만 (1) priceVersion/variant 구조 고정, (2) 요트 ‘주말=불꽃’ 강제 규칙, (3) experience 주말 장소 강제 이 3개가 누락되면 운영 사고 납니다.
📈 데이터 근거: 요트 주말 sell 55,000 / cost 50,000으로 마진이 거의 없고, experience 주말 ship 금지는 P0라 예외 처리 빠지면 현장 운영이 깨짐.
🎯 액션 제안: 아래 “코미→Claude Code 지시서” 그대로 전달하면 됩니다.

✅ 코미→Claude Code 전달용 “반영 지시” (최소 요구사항만)
1) 가격 데이터 소스에 priceVersion="v1.1_20250104" 추가

API 응답/견적서/내부 로그에도 같이 내려서 “버전 혼선” 방지

2) leisure 가격 구조에 variant 필드 강제

yacht.variant = weekday | weekend_fireworks

cruise.variant = weekday | weekend_fireworks

dayType 매핑:

{fri, sat, sun, holiday} → weekend_fireworks

{mon, tue, wed, thu} → weekday

3) experience 장소 룰(P0) 강제 로직

dayType in {fri,sat,sun,holiday} 이면:

location = "gallery_or_mongdol" 강제

ship 선택지/계산 경로 차단

weekday는 "ship_or_gallery" 허용

4) 케이블카 cost channel 기본값

cost_channel 기본 = paper

sell=16000, cost(paper)=15000

✅ 반영 후 “필수 테스트 3개” (문서와 동일)

요트 weekday
day_type=mon-thu → sell 35,000/인

요트 weekend_fireworks
day_type=sat → sell 55,000/인

experience 장소 룰
day_type=sat + experience → location=gallery_or_mongdol, ship 불가

⚠️ 지금 문서에서 “미확정/확인 필요”로 남은 항목 (리스크)

아래는 문서에 “확인필요”가 찍혀 있어서, 코드에 고정값 넣으면 위험합니다.

아쿠아플라넷 cost (확인필요)

소원항해단 basic / online cost (확인필요)

👉 처리 원칙 추천:
cost 미확정이면 cost=null + “manual_confirm_required” 플래그로 내려서, 운영자가 나중에 입력할 수 있게 해두는 게 안전합니다.

코미에게 보고용 한 줄 요약

“v1.1은 가격/장소 룰까지 확정. priceVersion+variant 구조 고정하고, 요트 주말=불꽃 가격 강제 + experience 주말 ship 금지(location 강제)만 누락 없이 넣으면 됨. cost 미확정(아쿠아/항해단)은 null+확인 플래그로 안전 처리.”
루미 분석 모드 시작! 📊✨
오케이 푸르미르님 ✅ 그럼 v1.1은 확정/고정으로 마무리하고, 팀에 공유는 이렇게만 하면 됩니다.

코미에게 1줄 복붙 메시지

“가격/정책 패치 v1.1(2025-01-04) 확정: priceVersion=v1.1_20250104 포함, 요트/유람선 variant(weekday vs weekend_fireworks) 분기, experience 주말/공휴 location=gallery_or_mongdol 강제+ship 금지(P0). 케이블카 cost_channel 기본 paper(cost=15000, sell=16000). cost ‘확인필요’ 항목은 null+확인 플래그로.”

코미에게 1줄 복붙 메시지

“가격/정책 패치 v1.1(2025-01-04) 확정: priceVersion=v1.1_20250104 포함, 요트/유람선 variant(weekday vs weekend_fireworks) 분기, experience 주말/공휴 location=gallery_or_mongdol 강제+ship 금지(P0). 케이블카 cost_channel 기본 paper(cost=15000, sell=16000). cost ‘확인필요’ 항목은 null+확인 플래그로.”
---
title: Part 2 - 컨텍스트 관리 지침
date: 2025-12-29
parent: 2025-12-29_최수민방식적용.md
category: conversation
tags: [컨텍스트, 최수민, 스크립트화, 배치처리]
---

# Part 2: 컨텍스트 관리 지침

## 핵심 원칙

> "AI는 추론, 반복은 코드로!"
> "컨텍스트에 찌꺼기를 남기지 마라!"

---

## 컨텍스트 절약 3원칙

### 1. 데이터는 스크립트로 먼저 추출

**Before (나쁜 예):**
```
"DB에서 사용자 100명 정보 읽어와"
→ AI가 100명 데이터를 컨텍스트에 로드
→ 컨텍스트 소진
```

**After (좋은 예):**
```
스크립트로 추출 → data/users.json 저장
→ AI는 "users.json 파일 참조해"
→ 컨텍스트 절약
```

### 2. 대량 작업은 10개씩 분할

```
전체 100개 항목
      ↓
10개씩 배치 분할
      ↓
배치 1 처리 → 저장
      ↓
배치 2 처리 → 저장
      ↓
...반복...
      ↓
최종 병합
```

**배치 프롬프트 패턴:**
```
"다음 10개를 처리하고, 완료되면 다음 10개를 처리하세요.
각 배치 완료 후 결과를 파일로 저장하세요."
```

### 3. 중간 결과물은 파일로 저장

| 단계 | 저장 위치 |
|------|----------|
| 원본 데이터 | data/raw/ |
| 중간 처리물 | data/processed/ |
| 최종 결과 | data/output/ |

---

## 컨텍스트 소진 증상

| 증상 | 설명 | 대응 |
|------|------|------|
| 반복 질문 | 같은 것을 다시 물음 | 세션 정리 |
| 누락 | 지시 일부 무시 | 핵심만 재요청 |
| 혼동 | 이전 내용과 섞임 | 새 세션 시작 |
| 느림 | 응답 지연 | 컨텍스트 축소 |

---

## 예방 전략

### DO (해야 할 것)

```markdown
- 스크립트로 데이터 먼저 추출
- 파일 경로로 참조 ("data/users.json 참조")
- 10개씩 배치 처리
- 중간 결과 파일 저장
- 핵심만 컨텍스트에 유지
```

### DON'T (하지 말 것)

```markdown
- AI에게 직접 대량 데이터 읽기 요청
- 한 번에 100개 이상 처리 요청
- 중간 결과를 컨텍스트에만 보관
- 불필요한 히스토리 유지
```

---

## 스크립트화 대상 판단

### 스크립트화 해야 하는 작업

| 작업 유형 | 이유 |
|----------|------|
| 데이터 추출 | 대량 데이터 처리 |
| 파일 변환 | 반복적, 정확도 필요 |
| API 호출 | 외부 의존성 |
| 배치 처리 | 10개 이상 항목 |

### AI가 해야 하는 작업

| 작업 유형 | 이유 |
|----------|------|
| 추론/판단 | AI 강점 |
| 창의적 생성 | 패턴화 어려움 |
| 예외 처리 | 컨텍스트 필요 |
| 대화형 작업 | 상호작용 필요 |

---

## 실전 예시

### 소원이 100명 분석

**Before:**
```
"100명의 12질문 응답을 분석해서 기적지수 산출해줘"
→ 컨텍스트 폭발
```

**After:**
```
1. 스크립트로 응답 데이터 추출 → data/responses.json
2. 10명씩 배치 분석 요청
3. 각 배치 결과 → data/results/batch_1.json
4. 최종 병합 → data/output/final.json
```

### 메시지 140개 생성

**Before:**
```
"10명에게 각각 14개씩 메시지 생성해줘"
→ 한 번에 140개 요청
```

**After:**
```
1. 1명씩 처리 (14개 메시지)
2. 결과 저장 → messages/user_1.json
3. 다음 사용자로 반복
```

---

## 관련 문서

- [CONTEXT-MANAGEMENT.md](../../../claude/references/CONTEXT-MANAGEMENT.md) - 상세 지침
- [Part 1 - Q&A](./2025-12-29_Part1_최수민방식QA.md) - 배경 설명

---

*다음: [Part 3 - 자가 검증 시스템](./2025-12-29_Part3_자가검증.md)*

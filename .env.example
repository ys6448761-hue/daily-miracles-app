# ═══════════════════════════════════════════════════════════
# Daily Miracles MVP - Environment Variables
# ═══════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────
# 서버 설정 (Server Configuration)
# ─────────────────────────────────────────────────────────────
NODE_ENV=development          # development | staging | production
PORT=5100                     # Render는 자동 할당, 로컬은 5100 사용

# ─────────────────────────────────────────────────────────────
# 앱 기본 URL (필수 - App Base URL)
# ─────────────────────────────────────────────────────────────
# 결제 콜백, 알림톡 링크 등에 사용되는 기본 도메인
APP_BASE_URL=https://app.dailymiracles.kr

# ─────────────────────────────────────────────────────────────
# CORS 설정 (필수 - CORS Configuration)
# ─────────────────────────────────────────────────────────────
# 쉼표로 구분하여 허용할 도메인 추가
# 프로덕션 권장값:
ALLOWED_ORIGINS=https://dailymiracles.kr,https://www.dailymiracles.kr,https://app.dailymiracles.kr

# ─────────────────────────────────────────────────────────────
# OpenAI API (필수 - Required)
# ─────────────────────────────────────────────────────────────
# https://platform.openai.com/api-keys 에서 발급
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# ─────────────────────────────────────────────────────────────
# 로깅 설정 (Logging)
# ─────────────────────────────────────────────────────────────
REQUEST_LOG=1                 # 1=활성화, 0=비활성화 (프로덕션은 0 권장)

# ─────────────────────────────────────────────────────────────
# 데이터베이스 (선택 - Optional Database)
# ─────────────────────────────────────────────────────────────
# PostgreSQL 사용 시에만 설정
# DATABASE_URL=postgresql://user:password@host:5432/database

# ─────────────────────────────────────────────────────────────
# Solapi (SMS/카카오 알림톡)
# ─────────────────────────────────────────────────────────────
# https://solapi.com 에서 API 키 발급
SOLAPI_API_KEY=your-solapi-api-key
SOLAPI_API_SECRET=your-solapi-api-secret
SOLAPI_PFID=your-kakao-channel-id           # 카카오 채널 연동 시 필요

# 발신번호 설정 (중요!)
SENDER_PHONE=18996117                        # 알림톡용 발신번호
SOLAPI_SMS_FROM=01012345678                  # SMS용 발신번호 (Solapi에 등록된 010 번호 필수!)
                                             # ⚠️ 1899-6117은 SMS 발신번호로 사용 불가 (등록 전까지)

# 알림톡 템플릿 ID (카카오 승인 후 입력)
SOLAPI_TEMPLATE_MIRACLE_RESULT=              # 기적 분석 결과 템플릿 (승인됨)

# 긴급 알림 수신자
CRO_PHONE=01012345678                        # RED 신호 알림 수신 번호

# ─────────────────────────────────────────────────────────────
# Airtable (관제탑 ACT)
# ─────────────────────────────────────────────────────────────
# https://airtable.com/create/tokens 에서 Personal Access Token 발급
AIRTABLE_API_KEY=pat.xxxxxxxxxxxx
AIRTABLE_BASE_ID=appXXXXXXXXXXXXXX

# 테이블명 (기본값 사용 시 생략 가능)
# AIRTABLE_TABLE_DAILY_HEALTH=Daily Health
# AIRTABLE_TABLE_ALERTS=Alerts

# ─────────────────────────────────────────────────────────────
# 알림 수신자 (Alert Recipients)
# ─────────────────────────────────────────────────────────────
COO_PHONE=01012345678                        # 코미(COO) - 모든 알림 수신
CEO_PHONE=01012345678                        # 푸르미르(CEO) - RED 알림만
QUALITY_PHONE=01012345678                    # 여의보주 - RED 알림만

# ─────────────────────────────────────────────────────────────
# 선택 사항 (Optional)
# ─────────────────────────────────────────────────────────────
# ORCHESTRATOR_ENABLED=false
# OPENAI_API_BASE=https://api.openai.com
# REQUEST_TIMEOUT=30000
# MAX_RETRIES=3
